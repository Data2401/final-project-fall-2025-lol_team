---
title: "LOL_Dataset_Project"
author: "Tamana Yaqoubi, Veronica Alviso"
date: "2025-11-04"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(dplyr)
library(ggplot2)
library(kableExtra)
library(gridExtra)

```

## Read csv files
```{r}
championTbl <- read.csv("ChampionTbl.csv")
itemTbl<- read.csv("ItemTbl.csv")
matchStatsTbl <- read.csv("MatchStatsTbl.csv")
matchTbl <- read.csv("MatchTbl.csv")
RankTbl <- read.csv("RankTbl.csv")
SummonerMatchTbl <- read.csv("SummonerMatchTbl.csv")
TeamMatchTbl <- read.csv("TeamMatchTbl.csv")
```

## View datasets
```{r}
head(championTbl) %>% knitr::kable()
head(itemTbl) %>% knitr::kable()
head(matchStatsTbl) %>% knitr::kable()
head(matchTbl) %>% knitr::kable()
head(RankTbl) %>% knitr::kable()
head(SummonerMatchTbl) %>% knitr::kable()
head(TeamMatchTbl) %>% knitr::kable()

```

## Including Plots

Create a new table that combines 

```{r}
itemTbl %>% 
  filter(ItemID == "2055")
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.

## Champion Table -VA

The following the data set has basically an NA value named 'No champion'. The data set has been updated so that it only represents actual champions that are playable in League of Legends.

```{r}
championTbl <- championTbl %>% 
  filter(ChampionId > 0)
head(championTbl)
```

As you can see, there is no longer a champion ID 0 - No champion. Using the dplyr function filter we successfully removed any irrelevant or not needed rows. 

## MSI Table -TY
Creating a new table called 'MSI_Tbl' to join the Match Stats table and Item Table


```{r}
MSI_Tbl <- full_join(matchStatsTbl, itemTbl, 
                     by = join_by(item1 == ItemID),
                     suffix = c("", "_1"))

MSI_Tbl <- full_join(MSI_Tbl, itemTbl, 
                     by = join_by(item2 == ItemID), 
                     suffix = c("", "_2"))

MSI_Tbl <- full_join(MSI_Tbl, itemTbl, 
                     by = join_by(item3 == ItemID), 
                     suffix = c("", "_3"))

MSI_Tbl <- full_join(MSI_Tbl, itemTbl, 
                     by = join_by(item4 == ItemID), 
                     suffix = c("", "_4"))


MSI_Tbl  <- full_join(MSI_Tbl, itemTbl, 
                     by = join_by(item5 == ItemID), 
                     suffix = c("", "_5"))


MSI_Tbl <- full_join(MSI_Tbl, itemTbl, 
                     by = join_by(item6 == ItemID), 
                     suffix = c("", "_6"))

MSI_Tbl

```



## match_rank Table -VA

We have created a new table called match_rank_tbl.
The purpose of this table is to join both the match table and the rank table by their RankFk == RankId. This will let us know whether the match was ranked or unranked.

```{r}
match_rank_tbl <- full_join(matchTbl,RankTbl,join_by(RankFk == RankId))
head(match_rank_tbl)
```



## TMM Tbl -TY
Create new table called 'TMM_Tbl' to join Team Match Table and Match Table


```{r}
TMR_Tble <- full_join(TeamMatchTbl, match_rank_tbl, by = join_by(MatchFk == MatchId))
TMR_Tble
```



## SMR tbl -VA

The following table was created in order to join both the summoner match table and a match rank table.
This table displays a smaller depiction 

```{r}
SMR_Tbl <- full_join(SummonerMatchTbl, championTbl, join_by(ChampionFk == ChampionId))

SMR_Tbl <- full_join(SMR_Tbl, match_rank_tbl, by = join_by(MatchFk == MatchId))
head(SMR_Tbl)
```

## Joining SMR table and MSI table -TY
```{r}
#SMRI_tbl <- full_join(SMR_Tbl, MSI_Tbl, by = join_by(SummonerMatchId==SummonerMatchFk))
#SMRI_tbl 
#Needs further filtering 
```






